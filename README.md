
# üé≤ JS pkg tools

–ß—Ç–µ–Ω–∏–µ, –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∑–∞–ø–∏—Å—å `*.json` —Ñ–∞–π–ª–æ–≤. 

    npm i -D nodejs-pkg-tools

- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–û–±—Ä–∞–±–æ—Ç–∫–∞ —É–∑–ª–æ–≤](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-—É–∑–ª–æ–≤)
- [–û–ø—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç –ø—É—Ç–∏](#–æ–ø—Ü–∏–∏-–∏-—Ñ–æ—Ä–º–∞—Ç-–ø—É—Ç–∏)

–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ç–æ—Ç –ø–∞–∫–µ—Ç:

* –ß—Ç–µ–Ω–∏–µ `package.json` –∏–ª–∏ –ª—é–±–æ–≥–æ –≤–∞–ª–∏–¥–Ω–æ–≥–æ `json`.
* –í–∫–ª—é—á–µ–Ω–∏–µ/–∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤. 
* –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º.
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ `foo.*.bar` —Å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–≤–æ–π—Å—Ç–≤–∞–º –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è.
* –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞ –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø—É—Ç—å.
* –î–æ—Å—Ç—É–ø–Ω–∞ –æ–±—ã—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `modify({json: '...'}).toValue() -> {...}` –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ.
* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–∏—Å—Ç–∫–∏ `clearDir(...)` –∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞ `copyDir(...)`.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –≤ –¥—Ä—É–≥–æ–π –∫–∞—Ç–∞–ª–æ–≥, –∏–∑–º–µ–Ω–∏–≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤—Å–µ–≥–æ —É—Ä–æ–≤–Ω—è `exports:{}`.

```js
const nodeRoot = rwModify({
  mode: 'over',
  exclude: ['devDependencies', 'private'],
  sample: {
    'version': '0.8.5-alpha'
    // –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –≤—Å–µ –ø—É—Ç–∏ –æ–¥–Ω–∏–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º.
    'exports.*.*': makeModifier((value, key, path) => 
                   [true, true, value.replace('dist/', '')])
  }
}, './package.json', './dist/package.json')
```

* –ë—ã–ª–æ

```js
{
  "version": "0.8.4",
  ...
  "devDependencies": { ... },
  "private": true,
  "exports": {
    ".": {
      "import": "./dist/index.js",
      "types": "./dist/index.d.ts"
    }
  }
}
```

* –°—Ç–∞–ª–æ

```js
{
  "version": "0.8.5-alpha",
  ...
  "exports": {
    ".": {
      "import": "./index.js",
      "types": "./index.d.ts"
    }
  }
}
```

##  –û–±—Ä–∞–±–æ—Ç–∫–∞ —É–∑–ª–æ–≤

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –¥–µ—Ä–µ–≤–∞ —É–∑–ª–æ–≤(1), –∫–∞–∂–¥—ã–π _node_ –ø–æ–º–µ—á–∞–µ—Ç—Å—è —Ñ–ª–∞–≥–æ–º _—É–¥–∞–ª–∏—Ç—å/–æ—Å—Ç–∞–≤–∏—Ç—å_, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–ø—Ü–∏–∏ `mode`.

–ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏(2), –Ω–∞–ø—Ä–∏–º–µ—Ä —É–∑–ª–∞ __A__, —Ñ–ª–∞–≥ —É–¥–∞–ª–µ–Ω–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –≤–Ω–∏–∑ –ø–æ –¥–µ—Ä–µ–≤—É, –Ω–æ –Ω–µ —É–¥–∞–ª—è–µ—Ç —É–∑–ª—ã. –ü–æ–∫–∞ —É–∑–µ–ª —è–≤–Ω–æ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –µ–≥–æ –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å.

–ù–∞ —Å–ª–µ–¥—É—é—â–µ–º —ç—Ç–∞–ø–µ(3) –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞–Ω–µ–µ —É–¥–∞–ª–µ–Ω–Ω—ã–π —É–∑–µ–ª, –Ω–∞–ø—Ä–∏–º–µ—Ä __B__. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã - –≤–≤–µ—Ä—Ö –¥–æ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ _node_ –∏ –≤–Ω–∏–∑ –ø–æ –¥–æ—á–µ—Ä–Ω–∏–º —É–∑–ª–∞–º.

![](stage.png)

–ö–æ–≥–¥–∞ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∏—Ä—É—é—â–µ–º –æ–±—ä–µ–∫—Ç–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `toValue()` –∏–ª–∏ `toJson()`, –¥–µ—Ä–µ–≤–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è —Å–≤–µ—Ä—Ö—É, –æ—Ç–±—Ä–∞—Å—ã–≤–∞—è —É–∑–ª—ã –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ —Ñ–ª–∞–≥–æ–º _remove_.

>üßπ –ü—É—Å—Ç—ã–µ `{}|[]` —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –∏ –Ω–µ –≤–∫–ª—é—á–∞—é—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –í–æ—Ç —Ç–∞–∫–æ–µ `{foo:{bar:{box:[]}}}` - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Ç–∞–∫–æ–µ `{}`.

## –û–ø—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∞—Ç –ø—É—Ç–∏

–ü—É—Ç—å –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º `"."`. –ó–≤–µ–∑–¥–æ—á–∫–∞ `"*"` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ª—é–±–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –∏–ª–∏ –º–∞—Å—Å–∏–≤–µ. –í `TypeScript` –ø—É—Ç—å –∏–º–µ–µ—Ç –ø—Å–µ–≤–¥–æ–Ω–∏–º `type KeyPath = string`.

    "foo.bar"    <- Ok
    "box.**"     <- Bad - –î–≤–æ–π–Ω—ã–µ ".." –∏ "**" –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã.
    "over..tor"  <- Bad
    ".game.oh."  <- Bad - –í –Ω–∞—á–∞–ª–µ –∏ –∫–æ–Ω—Ü–µ –Ω–µ–ª—å–∑—è ".". 
    "well.be.*"  <- Ok  - –ó–≤–µ–∑–¥–æ—á–∫–∏ "*" –º–æ–∂–Ω–æ.
    "*.*.*.*.*"  <- Ok üëÄ

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç –∏–º–µ–µ—Ç —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–∏:

```js
import { 
  type IRootNode, ... –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤,
  makeModifier, modify, rwModify 
} from 'nodejs-pkg-tools'

// –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ Options.sample.
const marker = makeModifier(boolean | Modifier): ModifierMarker
// –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è Json-—Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –≤–∞–ª–∏–¥–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã {}|[].
const nodeRoot = modify(options: Options): IRootNode
// –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞.
const rwNodeRoot = rwModify (options: Options, src?: string, dest?: string): IRootNode
```

__Options__: `{json?|value?, mode?, space?, include?, exclude?, sample?}`

–û–±—ä–µ–∫—Ç –æ–ø—Ü–∏–π.

__Options.mode__: `'strict'(default)|'over'|'error'|'strict_error'|'over_error'`

–û—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –∑–∞–≤–∏—Å–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ñ–ª–∞–≥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö:

* `"strict"`(default) - –í—Å–µ–º _node_ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è _remove_-—Ñ–ª–∞–≥. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —É–∑–µ–ª –º–æ–∂–Ω–æ —è–≤–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø—É—Ç–∏ –≤ `include` –∏–ª–∏ –≤ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–µ `sample`.
* `"over"` - –ü–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—Ä–∞—Ç–Ω–æ–µ `"strict"`.
* `"error"` - –õ—é–±–∞—è –æ—à–∏–±–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä _–Ω–µ–≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ_, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥–∞–ª—å–Ω–µ–π—à—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É. –†–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –∏–º–µ—Ç—å `nodeRoot.isFatalError:true`. –û—à–∏–±–∫–∏ –Ω–µ –≤–ª–∏—è—é—â–∏–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–æ–≥–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—É—Ç–∏ `exclude`, –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

–ü–∞—Ä–∞–º–µ—Ç—Ä `mode` —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ª—é–±—ã—Ö –≤–∞—Ä–∏–∞—Ü–∏—è—Ö, –¥–∞–∂–µ —Ç–∞–∫ `error_2022_over`.

–û—à–∏–±–∫–∏ —Ä–∞–∑–±–æ—Ä–∞ _Json_ –∏–ª–∏ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞, –≤—Å–µ–≥–¥–∞ —è–≤–ª—è—é—Ç—Å—è —Ñ–∞—Ç–∞–ª—å–Ω—ã–º–∏ –∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –§—É–Ω–∫—Ü–∏–∏ –Ω–µ –≤—ã–±—Ä–∞—Å—ã–≤–∞—é—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ —Å–ª–µ–¥—É–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IRootNode`. –í —Å–ª—É—á–∞–µ `isFatalError`, —Ç–µ–∫—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä–µ–Ω –∏ `toJson()` –∏–ª–∏ `toValue()`, –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `""` –∏–ª–∏ `null`.

> üìå –ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ `error` –ø—Ä–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ `JS`-–æ–±—ä–µ–∫—Ç–∞, –≥–¥–µ –º–æ–≥—É—Ç –±—ã—Ç—å `function`, `undefined` –∏ `symbol`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –∏ –æ—à–∏–±–∫–∞ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –¥–ª—è –æ—à–∏–±–æ–∫ –ø–æ–∏—Å–∫–∞ –ø—É—Ç–µ–π. –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ `IRootNode.errors:IErrors`.

–ë–æ–ª—å—à–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ —Ñ–∞–π–ª–µ [src/errors.ts](src/errors.ts).

__Options.space__: `number>=0`(default: 2)

–≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–¥–∞–Ω–æ –≤ `JSON.stringify(value, null, space)`.

__Options.json__?: `string` | __Options.value__?: `JsonPrimitive|[]|{}`

–°—Ç—Ä–æ–∫–∞ _Json_ –∏–ª–∏ –≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ. –û–±—ä–µ–∫—Ç —Å–æ–¥–µ—Ä–∂–∞—â–∏–π `function|Symbol|BigInt|undefined` –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º –∏ –≤—ã–∑–æ–≤–µ—Ç –æ—à–∏–±–∫—É, –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ `mode:'error'`.

`rwModify(opts, src?, dest?)` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –ª—é–±—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ `src? || json? || value`.

__Options.include__: `KeyPath[]`

–ú–∞—Å—Å–∏–≤ –ø—É—Ç–µ–π –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è. –≠—Ç–æ—Ç –º–∞—Å—Å–∏–≤ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–ª–∞–≥ _—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å_—Å–≤–æ–π—Å—Ç–≤–æ_ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å.

__Options.exclude__: `KeyPath[]`

–ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ `Options.include`.
 
__Options.sample__: `{...}|[...][]`

* `{[k in KeyPath]: ValidValue | ModifierMarker}`
* `[KeyPath, ...][]`
* `[string[], ...][]`

–û–±—ä–µ–∫—Ç –∏–ª–∏ –º–∞—Å—Å–∏–≤ –ø–æ–∑–≤–æ–ª—è—é—â–∏–π _—É–¥–∞–ª—è—Ç—å/–º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å/—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å_ –Ω–æ–≤—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è. –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç `include/exclude`, –∑–¥–µ—Å—å –Ω–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ –¥–µ–π—Å—Ç–≤–∏–π. –°–≤–æ–π—Å—Ç–≤–∞ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å –∏ —Å–Ω–æ–≤–∞ —É–¥–∞–ª–∏—Ç—å.

```js
import { type Sample, makeModifier, modify, rwModify } from 'nodejs-pkg-tools'

const sample: Sample = {
  // –û—Ç–º–µ—Ç–∏–º –≤–µ—Å—å —É–∑–µ–ª –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è...
  "your.very": makeModifier(false),
  // ... –∏ –æ—Å—Ç–∞–≤–∏–º –≤–ª–æ–∂–µ–Ω–Ω—ã–π —É–∑–µ–ª - –æ–Ω –≤—Å–µ –µ—â–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
  "your.very.long": makeModifier(true)

  // –ù–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –Ω–∞–ª–∏—á–∏—è —Å–≤–æ–π—Å—Ç–≤–∞ –≤ —Ü–µ–ª–µ–≤–æ–º –æ–±—ä–µ–∫—Ç–µ,
  // –æ–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ. –ì–ª—É–±–∏–Ω–∞ –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.
  // –ü—É—Ç–µ–º –≤—Å–µ–≥–¥–∞ —è–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ–º {foo: "bar"}.
  "your.very.long.path": {foo: "bar"},
  // –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –ø—É—Ç—å –≤ –≤–∏–¥–µ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –Ω–µ–ª—å–∑—è.
  // –ù–µ—è—Å–Ω–æ: –ø—É—Ç—å —ç—Ç–æ –∏–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ {very:...}.
  your: {very: {long: { path: {foo: "bar"}}}}
}
```

–ù–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç `{key: value}`, –æ–±—ä–µ–∫—Ç—ã, –∏–º–µ—é—â–∏–µ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏, [—Å–∞–º–æ–≤–æ–ª—å–Ω–æ —Ä–∞—Å–ø–æ—Ä—è–∂–∞—é—Ç—Å—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–æ–π](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in). –¢–æ—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–∞—Å—Å–∏–≤–æ–º –∑–∞–ø–∏—Å–µ–π.

```js
// –¢–∞–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ...
const sample: Sample = [
  ["your.path.*", makeModifier((value, key, path) => {...})],
  ["engines.node", "^18.7.0"]
]
// ... —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ
const sample: Sample = {
  "your.path.*": makeModifier((value, key, path) => {...}),
  "engines.node": "^18.7.0"
}
```

–§–æ—Ä–º–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è `KeyPath` –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∫–∞–∑–∞—Ç—å —Ç–æ—á–∫–∏ `"."` –∏ –∑–≤–µ–∑–¥–æ—á–∫–∏ `"*"`. –¢–∞–∫–∏–µ –∫–ª—é—á–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º.

```js
const sample: Sample = [
  [["exports", "."], "newValue"],
  // –ú–∞—Å—Å–∏–≤ –ø—É—Ç–∏ –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å.
  [["description", "bar**..box", "repo", ""], makeModifier(true)]
  // –ò–º—è —Å–≤–æ–π—Å—Ç–≤–∞ ->^^^^^^^^^^           ^^<- –∏ —ç—Ç–æ –∏–º—è
]
```

–°–º–µ—à–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã `Sample` –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è.

__Modifier(value, key, [])__: `boolean | [boolean, boolean, (Primitive|[]|{})]`

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:

* `value: (Primitive|[]|{})` - –ó–Ω–∞—á–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞.
* `key: (null|string|number)` - –ö–ª—é—á –∏–ª–∏ `null`, –µ—Å–ª–∏ —ç—Ç–æ –∫–æ—Ä–µ–Ω—å. –ü–æ—Å–ª–µ–¥–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç –≤ –º–∞—Å—Å–∏–≤–µ `path`.
* `path: (string|number)[]` - –ü—É—Ç—å –æ—Ç –∫–æ—Ä–Ω—è –∏–ª–∏ –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤.

–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç–∏—Ç—å –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:

* `boolean`:
  + `true` - –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å, —Å–≤–æ–π—Å—Ç–≤–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–æ –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫.
  + `false` - –ü—Ä–µ—Ä–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∞—Ç–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É.
* `[boolean, boolean, (Primitive|[]|{})]`:
  + `[0]!` - –ï—Å–ª–∏ `false` —Å–≤–æ–π—Å—Ç–≤–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ, –ø—Ä–∏ —ç—Ç–æ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è. –ü—Ä–∏ `true` –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç `[1]` –∏ —Å–≤–æ–π—Å—Ç–≤—É —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ _—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è_.
  + `[1]?` - –î–µ–π—Å—Ç–≤–∏–µ. –ü—Ä–∏ `true` –æ–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `[2]`, –∏–Ω–∞—á–µ –æ—Å—Ç–∞–≤–ª—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª.
  + `[2]?` - –õ—é–±–æ–µ –≤–∞–ª–∏–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞, –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –µ—Å–ª–∏ `[0]:true` –∏ `[1]:true`.

> üìå –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ–ª–∂–µ–Ω —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `makeModifier()`. –õ—é–±–æ–µ –¥—Ä—É–≥–æ–π —Ç–∏–ø –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–≤–æ–π—Å—Ç–≤–∞.

–≠—Ç–æ—Ç [—Ñ–∞–π–ª üìÑ](src/types.ts) —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏. 
